diff --git a/third_party/llvm/generated.patch b/third_party/llvm/generated.patch
index f8fc3c3..509398d 100644
--- a/third_party/llvm/generated.patch
+++ b/third_party/llvm/generated.patch
@@ -1,15 +1 @@
 Auto generated patch. Do not edit or delete it, even if empty.
-diff -ruN --strip-trailing-cr a/mlir/lib/Dialect/OpenMP/Transforms/OpenMPOffloadPrivatizationPrepare.cpp b/mlir/lib/Dialect/OpenMP/Transforms/OpenMPOffloadPrivatizationPrepare.cpp
---- a/mlir/lib/Dialect/OpenMP/Transforms/OpenMPOffloadPrivatizationPrepare.cpp
-+++ b/mlir/lib/Dialect/OpenMP/Transforms/OpenMPOffloadPrivatizationPrepare.cpp
-@@ -189,7 +189,9 @@
- 
-         DominanceInfo dom;
-         llvm::sort(chainOfOps, [&](Operation *l, Operation *r) {
--          return dom.dominates(l, r);
-+          if (l == r)
-+            return false;
-+          return dom.properlyDominates(l, r);
-         });
- 
-         rewriter.setInsertionPoint(chainOfOps.front());
diff --git a/third_party/llvm/workspace.bzl b/third_party/llvm/workspace.bzl
index 974f27d..98e83ed 100644
--- a/third_party/llvm/workspace.bzl
+++ b/third_party/llvm/workspace.bzl
@@ -4,8 +4,8 @@ load("//third_party:repo.bzl", "tf_http_archive")
 
 def repo(name):
     """Imports LLVM."""
-    LLVM_COMMIT = "917d1f20aecfdbdc9e5a7a0eaf947ff7be6fbe15"
-    LLVM_SHA256 = "8d3d2fe0dfa882a4c4e1c790e2100bc9506b617f50ab30b0c7e303792d9d522f"
+    LLVM_COMMIT = "704240125ddf17b9b4995871af3759c742a202ba"
+    LLVM_SHA256 = "0354f1e0c3842bb9f36e590e17bbb91018b014bd5c72736dff0b14d1b3f256e8"
 
     tf_http_archive(
         name = name,
